# 登录功能测试指南

## 启动项目

```bash
npm run dev
```

然后在浏览器中访问：`http://localhost:3000`

## 测试步骤

### 1. 测试未登录状态 ✓

**预期效果：**
- 顶部导航栏右侧应该显示齿轮图标（设置按钮）
- 点击齿轮图标应该弹出**登录对话框**

**测试操作：**
1. 打开网站首页
2. 找到顶部导航栏右侧的齿轮图标
3. 点击齿轮图标
4. 确认弹出登录对话框，包含：
   - 用户名输入框
   - 密码输入框
   - 登录按钮
   - 提示文字："默认账号: admin / admin123"

### 2. 测试登录失败 ✓

**预期效果：**
- 输入错误的用户名或密码
- 显示红色错误提示："用户名或密码错误"

**测试操作：**
1. 在登录对话框中输入：
   - 用户名：`wrong`
   - 密码：`wrong123`
2. 点击"登录"按钮
3. 确认显示错误提示

### 3. 测试登录成功 ✓

**预期效果：**
- 登录成功后显示绿色提示："登录成功！"
- 登录对话框自动关闭
- 齿轮图标功能变为打开设置对话框

**测试操作：**
1. 点击齿轮图标打开登录对话框
2. 输入正确的账号：
   - 用户名：`admin`
   - 密码：`admin123`
3. 点击"登录"按钮
4. 确认登录成功提示
5. 对话框应该自动关闭

### 4. 测试编辑功能（已登录） ✓

**预期效果：**
- 登录后点击齿轮图标，应该打开**编辑网站数据**对话框
- 对话框右上角显示用户名："用户: admin"
- 对话框右上角有"退出登录"按钮
- 可以进行所有编辑操作

**测试操作：**
1. 确保已登录状态
2. 点击顶部齿轮图标
3. 确认弹出"编辑网站数据"对话框
4. 验证对话框内容：
   - 顶部显示"用户: admin"
   - 有"退出登录"按钮
   - 可以添加/删除分类
   - 可以添加/删除链接
   - 可以编辑网站信息
   - 可以保存更改
   - 可以重置数据

### 5. 测试退出登录 ✓

**预期效果：**
- 点击"退出登录"后显示提示："已退出登录"
- 对话框自动关闭
- 再次点击齿轮图标应该显示登录对话框（而不是编辑对话框）

**测试操作：**
1. 在编辑对话框中找到右上角的"退出登录"按钮
2. 点击"退出登录"
3. 确认显示退出提示
4. 对话框自动关闭
5. 再次点击齿轮图标
6. 确认显示的是登录对话框

### 6. 测试登录状态持久化 ✓

**预期效果：**
- 登录后刷新页面，应该保持登录状态
- 点击齿轮图标直接打开编辑对话框（不需要重新登录）

**测试操作：**
1. 登录成功
2. 按 F5 或点击浏览器刷新按钮
3. 页面刷新后，点击齿轮图标
4. 确认直接打开编辑对话框（保持登录状态）

### 7. 测试移动端适配 ✓

**预期效果：**
- 登录对话框和编辑对话框在移动端正常显示
- 所有按钮可以正常点击

**测试操作：**
1. 按 F12 打开开发者工具
2. 切换到移动设备模式（手机视图）
3. 重复上述所有测试步骤
4. 确认功能正常

## 测试检查清单

- [ ] 未登录状态显示登录按钮
- [ ] 点击按钮弹出登录对话框
- [ ] 输入错误账号显示错误提示
- [ ] 输入正确账号登录成功
- [ ] 登录后显示编辑对话框
- [ ] 编辑对话框显示用户名
- [ ] 可以正常编辑网站数据
- [ ] 点击退出登录成功退出
- [ ] 退出后恢复未登录状态
- [ ] 刷新页面保持登录状态
- [ ] 移动端适配正常

## 常见问题

### Q: 点击齿轮图标没有反应？
A: 检查浏览器控制台是否有错误信息，确保所有依赖已正确安装。

### Q: 登录后刷新页面又变成未登录状态？
A: 检查浏览器是否禁用了 localStorage，登录状态需要保存在 localStorage 中。

### Q: 提示信息没有显示？
A: 确认项目中已正确配置 Sonner toast 组件。

### Q: 样式显示异常？
A: 确认 Tailwind CSS 配置正确，检查是否有样式冲突。

## 默认账号信息

- **用户名**: `admin`
- **密码**: `admin123`

修改账号请编辑文件：`stores/useAuthStore.ts`

## 注意事项

⚠️ 当前版本使用简单的本地验证，仅用于演示。
⚠️ 生产环境请使用后端 API 进行安全的身份验证。
